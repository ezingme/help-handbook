
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="zh_CN">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>title: 中小企业云门户工资单配置手册 tags: grammar_cjkRuby: true &#8212; Help 0.2.2 文档</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <script type="text/javascript" src="_static/translations.js"></script>
    <link rel="index" title="索引" href="genindex.html" />
    <link rel="search" title="搜索" href="search.html" />
    <link rel="next" title="title: 中小企业云门户流程审批配置手册 tags: grammar_cjkRuby: true" href="中小企业云门户流程审批配置手册.html" />
    <link rel="prev" title="title: 中小企业云门户用户使用手册 V2.0 tags: grammar_cjkRuby: true" href="中小企业云门户用户使用手册 V2.0.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <hr class="docutils" />
<div class="section" id="title-tags-grammar-cjkruby-true">
<h1>title: 中小企业云门户工资单配置手册
tags:
grammar_cjkRuby: true<a class="headerlink" href="#title-tags-grammar-cjkruby-true" title="永久链接至标题">¶</a></h1>
<p>[toc]</p>
</div>
<div class="section" id="id1">
<h1>中小企业云门户工资单配置手册(支持2019新个税)<a class="headerlink" href="#id1" title="永久链接至标题">¶</a></h1>
<p>在使用工资单功能之前，我们需要进行一些符合目前组织结构工资表的设置。在这里，我们以下面的工资表为例，进行相关的配置。（该例子是按照全年累计计算个税的方法计算个税的，与其他计算方法不同点在个税计算公式这里，如果您是使用其他方法的请联系我们取得对应的个税计算公式。）
<img alt="./attachments/%E5%B7%A5%E8%B5%84%E8%A1%A8%E6%A8%A1%E6%9D%BF_1.xlsx" src="./attachments/%E5%B7%A5%E8%B5%84%E8%A1%A8%E6%A8%A1%E6%9D%BF_1.xlsx" />工资表模板
<img alt="./attachments/%E5%85%B6%E4%BB%96%E5%AF%BC%E5%85%A5%E9%A1%B9.xlsx" src="./attachments/%E5%85%B6%E4%BB%96%E5%AF%BC%E5%85%A5%E9%A1%B9.xlsx" />其他导入项
<img alt="_images/1565162409881.png" src="_images/1565162409881.png" />
<img alt="_images/1565162452914.png" src="_images/1565162452914.png" /></p>
<div class="section" id="id2">
<h2>1 配置薪资规则<a class="headerlink" href="#id2" title="永久链接至标题">¶</a></h2>
<p>在配置薪资规则里吧工资单的表头全部定义（序号不需要）。
<img alt="_images/1563862953683.png" src="_images/1563862953683.png" />
如果有的表头为复合型表头，则需要取消符合型表头，改为直排的。
<img alt="_images/1563863108674.png" src="_images/1563863108674.png" />
点击右下角的“+”新建薪资规则。
<img alt="_images/1563863757561.png" src="_images/1563863757561.png" />
==<strong>注：规则编码应以字母开头，可以包含数字，不能使用特殊符号。</strong> #F44336==
若该规则所有人员的数值是一样的，计算类型选择固定金额，其他的全选择JavaScript表达式。
<img alt="_images/1563864661819.png" src="_images/1563864661819.png" />
在这里我们把工资表中的各类薪资共分为3大类，获取数据的javascript表达式也不同。</p>
<div class="section" id="id3">
<h3>1.1 固定薪资类别<a class="headerlink" href="#id3" title="永久链接至标题">¶</a></h3>
<p>基本工资、月固定绩效、通讯补助、采暖补助等每月都不会发生改变的薪资项目为固定薪资类别。表达式为：result=employee.salary.(薪资结构中的对应编码)
==<strong>注：（）内为可变选项。</strong> #F44336==
==<strong>注：薪资结构中的对应编码见本文章第2章</strong> #F44336==
例：基本工资
<img alt="_images/1563866885463.png" src="_images/1563866885463.png" />
姓名的表达式是固定的：result=employee.name
<img alt="_images/1563866937724.png" src="_images/1563866937724.png" />
银行卡号的表达式是固定的：result=employee.bank.no
需要在员工信息中设置银行卡号。
<img alt="_images/1563866727482.png" src="_images/1563866727482.png" /></p>
</div>
<div class="section" id="id4">
<h3>1.2 变动薪资类别<a class="headerlink" href="#id4" title="永久链接至标题">¶</a></h3>
<p>月度绩效考核、出勤天数、备注等每月可能变动的薪资类别为变动薪资类别。表达式为：result=input.(薪资导入项类别的编码).(薪资导入项的对应编码)
==<strong>注：薪资导入项类别的编码见本文章第3章</strong> #F44336==
==<strong>注：薪资导入项的对应编码见本文章第4章</strong> #F44336==
例：月度绩效考核
<img alt="_images/1563867588772.png" src="_images/1563867588772.png" /></p>
</div>
<div class="section" id="id5">
<h3>1.3 计算型薪资类别<a class="headerlink" href="#id5" title="永久链接至标题">¶</a></h3>
<p>餐补、应发工资、个人所得税等根据已有薪资类型计算出来的薪资类型为计算新薪资类别表达式为：result=payslip.(薪资规则里对应的编码)(加减乘除、大于、小于等运算符)(数字、payslip.(薪资规则里对应的编码)等)
例：餐补
<img alt="_images/1563868176525.png" src="_images/1563868176525.png" /></p>
</div>
<div class="section" id="id6">
<h3>1.4 2019新个税相关计算<a class="headerlink" href="#id6" title="永久链接至标题">¶</a></h3>
<div class="section" id="id7">
<h4>1.4.1 扣除累计和工资累计<a class="headerlink" href="#id7" title="永久链接至标题">¶</a></h4>
<p>在2019新个税计算中需要计算到当前月的（包含当前月的）累计工资、累计扣除，我们因此设定了一个计算公式：sumyear(payslip,employee,’(对应的薪资规则编码)’)
扣除累计：
<img alt="_images/1563870325676.png" src="_images/1563870325676.png" />
==<strong>注：该公式计算时因为每月的扣除项是未加每月减免项，所以扣除累计里需加累计减免项。如若每月扣除项加了每月减免项则不需要加累计减免项。</strong> #F44336==
工资累计：
<img alt="_images/1563870678363.png" src="_images/1563870678363.png" /></p>
</div>
<div class="section" id="n">
<h4>1.4.2 前N月个税累计<a class="headerlink" href="#n" title="永久链接至标题">¶</a></h4>
<p>在2019新个税计算中需要计算到当前月之前的（不包含当前月的）累计个人所得税，我们因此设定了一个计算公式：sumyearBeforeN(payslip,employee,’(对应的薪资规则编码)’)
<img alt="_images/1564117966152.png" src="_images/1564117966152.png" /></p>
</div>
<div class="section" id="id8">
<h4>1.4.3 个人所得税<a class="headerlink" href="#id8" title="永久链接至标题">¶</a></h4>
<p>根据2019新个税的计算方法，我们制定了下面这个计算公式，使用时替换成对应的规则编码即可：
<code class="docutils literal notranslate"><span class="pre">result=((</span> <span class="pre">Math.max.apply(Math,[</span> <span class="pre">(payslip.gzlj-payslip.kclj)*0.03-0,(payslip.gzlj-payslip.kclj)*0.1-2520,(payslip.gzlj-payslip.kclj)*0.2-16920,(payslip.gzlj-payslip.kclj)*0.25-31920,(payslip.gzlj-payslip.kclj)*0.3-52920,(payslip.gzlj-payslip.kclj)*0.35-85920,(payslip.gzlj-payslip.kclj)*0.45-181920])&gt;0?</span> <span class="pre">Math.max.apply(Math,[</span> <span class="pre">(payslip.gzlj-payslip.kclj)*0.03-0,(payslip.gzlj-payslip.kclj)*0.1-2520,(payslip.gzlj-payslip.kclj)*0.2-16920,(payslip.gzlj-payslip.kclj)*0.25-31920,(payslip.gzlj-payslip.kclj)*0.3-52920,(payslip.gzlj-payslip.kclj)*0.35-85920,(payslip.gzlj-payslip.kclj)*0.45-181920</span> <span class="pre">]</span> <span class="pre">):0)</span> <span class="pre">-payslip.gslj)&gt;0?</span> <span class="pre">(Math.max.apply(Math,[</span> <span class="pre">(payslip.gzlj-payslip.kclj)*0.03-0,(payslip.gzlj-payslip.kclj)*0.1-2520,(payslip.gzlj-payslip.kclj)*0.2-16920,(payslip.gzlj-payslip.kclj)*0.25-31920,(payslip.gzlj-payslip.kclj)*0.3-52920,(payslip.gzlj-payslip.kclj)*0.35-85920,(payslip.gzlj-payslip.kclj)*0.45-181920])&gt;0?</span> <span class="pre">Math.max.apply(Math,[</span> <span class="pre">(payslip.gzlj-payslip.kclj)*0.03-0,(payslip.gzlj-payslip.kclj)*0.1-2520,(payslip.gzlj-payslip.kclj)*0.2-16920,(payslip.gzlj-payslip.kclj)*0.25-31920,(payslip.gzlj-payslip.kclj)*0.3-52920,(payslip.gzlj-payslip.kclj)*0.35-85920,(payslip.gzlj-payslip.kclj)*0.45-181920</span> <span class="pre">])</span> <span class="pre">:0)-payslip.gslj:0</span></code>
gzli:工资累计的规则编码。
kclj:扣除累计的规则编码。
gslj:个税累计的规则编码。
<img alt="_images/1564118071289.png" src="_images/1564118071289.png" /></p>
</div>
<div class="section" id="id9">
<h4>1.4.4 1-N月的工资累计、扣除累计、个税累计<a class="headerlink" href="#id9" title="永久链接至标题">¶</a></h4>
<p>如果您不是从当年1月份开始使用本方法计算的工资单，那么扣除累计、工资累计、个税累计就调取不到之前月份的数据，这里就需要我们设置1-N月的对应的导入累计项。
<img alt="./images/1564118807060.png" src="./images/1564118807060.png" />
在各个累计计算工资里加上导入的之前月累计项。
<img alt="_images/1564118920728.png" src="_images/1564118920728.png" /></p>
</div>
</div>
</div>
<div class="section" id="id10">
<h2>2 配置薪资结构<a class="headerlink" href="#id10" title="永久链接至标题">¶</a></h2>
<p>在这里我们将配置好的薪资规则组成薪资结构。
<img alt="_images/1564120591386.png" src="_images/1564120591386.png" />
点击编辑按钮对已存在的薪资结构进行修改，点击删除按钮，删除对应的薪资结构。点击右下角的“+”按钮新增新增结构。
<img alt="./images/1564120806404.png" src="./images/1564120806404.png" />
在配置项里设置工资单里的固定薪资类别。
==<strong>注：固定薪资类别的薪资项目规则里计算公式所用的编码要与薪资结构配置项里对应的配置项编码相同。规则名称和配置项描述可以不同，但要记住对应关系。</strong> #F44336==
<img alt="_images/1564123575070.png" src="_images/1564123575070.png" />
薪资结构配置完成后，进入员工—&gt;薪资福利中点击编辑按钮，选择薪资结构，设置固定薪资。
<img alt="_images/1565162712946.png" src="_images/1565162712946.png" />
<img alt="_images/1565162774255.png" src="_images/1565162774255.png" />
<img alt="_images/1565162817867.png" src="_images/1565162817867.png" /></p>
</div>
<div class="section" id="id11">
<h2>3 配置薪资导入项类别<a class="headerlink" href="#id11" title="永久链接至标题">¶</a></h2>
<p>变动薪资类别每个月需要我们手动导入Excel表格，我们需要在这里设置导入项类别，点击右下角的“+”，新建薪资导入项类别。
<img alt="_images/1564122192497.png" src="_images/1564122192497.png" />
==<strong>变动薪资类别的薪资规则中公式里的编码要与设置的薪资导入项code相同。</strong> #F44336==
<img alt="_images/1564122417169.png" src="_images/1564122417169.png" /></p>
</div>
<div class="section" id="id12">
<h2>4 配置薪资导入项<a class="headerlink" href="#id12" title="永久链接至标题">¶</a></h2>
<p>薪资导入项类别配置完成后，在配置薪资导入项里，点击右下角“+”新建薪资导入项。
<img alt="_images/1564122818204.png" src="_images/1564122818204.png" />
<img alt="_images/1564122959919.png" src="_images/1564122959919.png" />
在配置项里设置工资单里的变动薪资类别。
==<strong>注：变动薪资类别的薪资项目规则里计算公式所用的编码要与薪资导入项的配置项里对应的编码相同。规则名称和导入项描述可以不同，但要记住对应关系。</strong> #F44336==
<img alt="_images/1564123673634.png" src="_images/1564123673634.png" />
==<strong>注：薪资导入项Excel表格中身份证号码与员工信息中的身份证号码一致，导入的数据才会生效。Excel中的数字格式不能设置千分位，会报错。要是没有备注信息，备注一栏填“无”</strong> #F44336==
<img alt="./images/1565163141144.png" src="./images/1565163141144.png" /></p>
</div>
<div class="section" id="id13">
<h2>5 工资表生成<a class="headerlink" href="#id13" title="永久链接至标题">¶</a></h2>
<p>点击右下角“+”生成工资表。
<img alt="_images/1562917461340.png" src="_images/1562917461340.png" />
设置工资表名称、起止日期。
<img alt="_images/1562917002151.png" src="_images/1562917002151.png" />
选择工资单内包含的员工。
<img alt="_images/1565163247485.png" src="_images/1565163247485.png" />
<img alt="_images/1565163323225.png" src="_images/1565163323225.png" />
导入薪资导入项，点击重新计算，工资计算完毕。
<img alt="_images/1565163406482.png" src="_images/1565163406482.png" />
<img alt="_images/1565163480679.png" src="_images/1565163480679.png" />
计算完毕后将完成改为选中状态（上图中为草稿选中状态），提交提交审批。
<img alt="_images/1562918830936.png" src="_images/1562918830936.png" />
工资单流程审批设置在下边的设置里，具体设置方法请查看《中小企业云门户流程审批配置手册》。
<img alt="_images/1562919193347.png" src="_images/1562919193347.png" />
审批通过后点击生效，员工可以在员工自助里查看工资单了。
<img alt="_images/1562919126866.png" src="_images/1562919126866.png" /></p>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Help</a></h1>








<h3>导航</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="中小企业云门户用户使用手册 V2.0.html">title: 中小企业云门户用户使用手册 V2.0
tags:
grammar_cjkRuby: true</a></li>
<li class="toctree-l1"><a class="reference internal" href="中小企业云门户用户使用手册 V2.0.html#v2-0">中小企业云门户用户使用手册 V2.0</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">title: 中小企业云门户工资单配置手册
tags:
grammar_cjkRuby: true</a></li>
<li class="toctree-l1"><a class="reference internal" href="#id1">中小企业云门户工资单配置手册(支持2019新个税)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#id2">1 配置薪资规则</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id10">2 配置薪资结构</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id11">3 配置薪资导入项类别</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id12">4 配置薪资导入项</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id13">5 工资表生成</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="中小企业云门户流程审批配置手册.html">title: 中小企业云门户流程审批配置手册
tags:
grammar_cjkRuby: true</a></li>
<li class="toctree-l1"><a class="reference internal" href="中小企业云门户流程审批配置手册.html#id1">中小企业云门户流程审批配置手册</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="中小企业云门户用户使用手册 V2.0.html" title="上一章">title: 中小企业云门户用户使用手册 V2.0
tags:
grammar_cjkRuby: true</a></li>
      <li>Next: <a href="中小企业云门户流程审批配置手册.html" title="下一章">title: 中小企业云门户流程审批配置手册
tags:
grammar_cjkRuby: true</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>快速搜索</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="转向" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, zhangsiyuan.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/中小企业云门户工资单配置手册.md.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>